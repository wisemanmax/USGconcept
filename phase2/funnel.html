<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Artist Funnel ‚Äî UGS Phase 2</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Syne:wght@400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../assets/css/phase2.css">
<style>
.tab-page { display: block !important; }
.sidebar .nav-item { text-decoration: none; display: flex; }
</style>
</head>
<body>
<div class="app-shell">
  <aside class="sidebar">
    <div class="sidebar-logo">
      <div class="logo-sq"><span>UGS</span></div>
      <div class="logo-wordmark">
        <span class="logo-top">UNDERGROUND</span>
        <span class="logo-bottom">Phase 2 Platform</span>
      </div>
    </div>
    <div class="sidebar-phase">
      <span class="phase-label">Current Phase</span>
      <span class="phase-val">02</span>
    </div>
    <nav>
      <div class="nav-section">
        <div class="nav-section-label">Overview</div>
        <a href="/phase2/dashboard.html" class="nav-item"><span class="nav-icon">‚ö°</span> Dashboard</a><a href="/phase2/analytics.html" class="nav-item"><span class="nav-icon">üìä</span> Platform Analytics</a>
      </div>
      <div class="nav-section">
        <div class="nav-section-label">Promotion Engine</div>
        <a href="/phase2/campaigns.html" class="nav-item"><span class="nav-icon">üöÄ</span> Campaigns<span class="nav-badge">12</span></a><a href="/phase2/submit.html" class="nav-item"><span class="nav-icon">üì¨</span> Submit Request<span class="nav-badge green">NEW</span></a><a href="/phase2/funnel.html" class="nav-item active"><span class="nav-icon">üéØ</span> Artist Funnel</a>
      </div>
      <div class="nav-section">
        <div class="nav-section-label">Revenue</div>
        <a href="/phase2/sponsors.html" class="nav-item"><span class="nav-icon">üí∞</span> Sponsors<span class="nav-badge">3</span></a><a href="/phase2/reports.html" class="nav-item"><span class="nav-icon">üìã</span> Reports</a>
      </div>
      <div class="nav-section">
        <div class="nav-section-label">Platform Roadmap</div>
        <a href="/phase2/roadmap.html" class="nav-item"><span class="nav-icon">üó∫Ô∏è</span> Phase Roadmap</a>
      </div>
    </nav>
    <div class="sidebar-footer">
      <div class="phase-nav-strip" style="margin:0 -16px;padding:8px 16px;">
        <a href="/" class="phase-nav-item" style="display:block;margin-bottom:4px;">‚Üê Phase 1: Media Hub</a>
        <a href="/phase3/overview.html" class="phase-nav-item" style="display:block;margin-bottom:4px;">‚Üí Phase 3: Community</a>
        <a href="/phase4/mission-control.html" class="phase-nav-item" style="display:block;">‚Üí Phase 4: Festival</a>
      </div>
      <div class="user-card" style="margin-top:12px;">
        <div class="user-avatar">UGS</div>
        <div class="user-info">
          <div class="user-name">UGS Admin</div>
          <div class="user-role">Platform Owner</div>
        </div>
      </div>
    </div>
  </aside>
  <header class="top-header">
    <div class="header-title" id="header-title">ARTIST FUNNEL</div>
    <div class="header-date" id="live-date"></div>
    <div class="header-live"><div class="live-dot"></div> Live Data</div>
    <div class="header-notif">üîî<div class="notif-count">5</div></div>
    <a href="/" class="btn btn-ghost" style="font-size:10px;">‚Üê Phase 1 Site</a>
  </header>
  <main class="main-content">
        <div class="tab-page active" id="tab-funnel">
      <div class="dash-welcome">
        <div class="dash-welcome-text">
          <div class="welcome-eyebrow">Promotion Engine</div>
          <div class="welcome-title">ARTIST <span>FUNNEL</span></div>
        </div>
      </div>

      <div class="funnel-page-grid">
        <div>
          <div class="pipeline-stages">
            <div class="pipeline-stage">
              <div class="stage-fill" style="width:100%"></div>
              <div class="pipeline-stage-num">01</div>
              <div class="pipeline-stage-info">
                <div class="pipeline-stage-name">Submission Received</div>
                <div class="pipeline-stage-desc">Artist submits via form ¬∑ All platforms accepted</div>
              </div>
              <div class="pipeline-stage-count">
                <div class="stage-count-num">124</div>
                <div class="stage-count-label">This Month</div>
              </div>
            </div>
            <div class="conversion-arrow">‚Üì <span class="conv-rate">85% pass</span></div>
            <div class="pipeline-stage">
              <div class="stage-fill" style="width:85%"></div>
              <div class="pipeline-stage-num">02</div>
              <div class="pipeline-stage-info">
                <div class="pipeline-stage-name">Content Review</div>
                <div class="pipeline-stage-desc">UGS team reviews quality, fit, and brand alignment</div>
              </div>
              <div class="pipeline-stage-count">
                <div class="stage-count-num">105</div>
                <div class="stage-count-label">Reviewed</div>
              </div>
            </div>
            <div class="conversion-arrow">‚Üì <span class="conv-rate">70% approved</span></div>
            <div class="pipeline-stage current">
              <div class="stage-fill" style="width:60%"></div>
              <div class="pipeline-stage-num">03</div>
              <div class="pipeline-stage-info">
                <div class="pipeline-stage-name">Approved ‚Üí Scheduled</div>
                <div class="pipeline-stage-desc">Campaign scheduled across selected platforms</div>
              </div>
              <div class="pipeline-stage-count">
                <div class="stage-count-num" style="color:var(--acid)">74</div>
                <div class="stage-count-label">Approved</div>
              </div>
            </div>
            <div class="conversion-arrow">‚Üì <span class="conv-rate">64% activate</span></div>
            <div class="pipeline-stage">
              <div class="stage-fill" style="width:38%"></div>
              <div class="pipeline-stage-num">04</div>
              <div class="pipeline-stage-info">
                <div class="pipeline-stage-name">Active Campaign</div>
                <div class="pipeline-stage-desc">Live posts, tracking impressions and engagement</div>
              </div>
              <div class="pipeline-stage-count">
                <div class="stage-count-num">47</div>
                <div class="stage-count-label">Running</div>
              </div>
            </div>
            <div class="conversion-arrow">‚Üì <span class="conv-rate">57% complete</span></div>
            <div class="pipeline-stage">
              <div class="stage-fill" style="width:22%"></div>
              <div class="pipeline-stage-num">05</div>
              <div class="pipeline-stage-info">
                <div class="pipeline-stage-name">Report Delivered</div>
                <div class="pipeline-stage-desc">Campaign analytics report sent to artist</div>
              </div>
              <div class="pipeline-stage-count">
                <div class="stage-count-num">27</div>
                <div class="stage-count-label">Completed</div>
              </div>
            </div>
          </div>
        </div>

        <div style="display:flex;flex-direction:column;gap:16px;">
          <div class="panel">
            <div class="panel-head"><div class="panel-title"><strong>Funnel Health</strong></div></div>
            <div class="panel-body">
              <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px;">
                <div style="padding:14px;background:var(--panel);border:1px solid var(--border);">
                  <div style="font-family:var(--font-display);font-size:32px;color:var(--acid);">22%</div>
                  <div style="font-family:var(--font-mono);font-size:8px;color:var(--muted);letter-spacing:2px;">END-TO-END CVR</div>
                </div>
                <div style="padding:14px;background:var(--panel);border:1px solid var(--border);">
                  <div style="font-family:var(--font-display);font-size:32px;color:var(--cyan);">4.2d</div>
                  <div style="font-family:var(--font-mono);font-size:8px;color:var(--muted);letter-spacing:2px;">AVG CYCLE TIME</div>
                </div>
                <div style="padding:14px;background:var(--panel);border:1px solid var(--border);">
                  <div style="font-family:var(--font-display);font-size:32px;color:var(--gold);">‚≠ê 47</div>
                  <div style="font-family:var(--font-mono);font-size:8px;color:var(--muted);letter-spacing:2px;">FRESHMAN FLAGS</div>
                </div>
                <div style="padding:14px;background:var(--panel);border:1px solid var(--border);">
                  <div style="font-family:var(--font-display);font-size:32px;color:var(--purple);">12</div>
                  <div style="font-family:var(--font-mono);font-size:8px;color:var(--muted);letter-spacing:2px;">REPEAT ARTISTS</div>
                </div>
              </div>
            </div>
          </div>

          <div class="panel">
            <div class="panel-head"><div class="panel-title"><strong>Top Genre Splits</strong></div></div>
            <div class="panel-body">
              <div class="breakdown-list">
                <div class="breakdown-item">
                  <div class="breakdown-top"><div class="breakdown-name">Underground Rap</div><div class="breakdown-pct">34%</div></div>
                  <div class="breakdown-bar-track"><div class="breakdown-bar-fill" style="width:34%;background:var(--acid);" data-w="34"></div></div>
                </div>
                <div class="breakdown-item">
                  <div class="breakdown-top"><div class="breakdown-name">Melodic Trap</div><div class="breakdown-pct">28%</div></div>
                  <div class="breakdown-bar-track"><div class="breakdown-bar-fill" style="width:28%;background:var(--cyan);" data-w="28"></div></div>
                </div>
                <div class="breakdown-item">
                  <div class="breakdown-top"><div class="breakdown-name">Drill</div><div class="breakdown-pct">18%</div></div>
                  <div class="breakdown-bar-track"><div class="breakdown-bar-fill" style="width:18%;background:var(--fire);" data-w="18"></div></div>
                </div>
                <div class="breakdown-item">
                  <div class="breakdown-top"><div class="breakdown-name">Emo / Alt Rap</div><div class="breakdown-pct">12%</div></div>
                  <div class="breakdown-bar-track"><div class="breakdown-bar-fill" style="width:12%;background:var(--purple);" data-w="12"></div></div>
                </div>
                <div class="breakdown-item">
                  <div class="breakdown-top"><div class="breakdown-name">Other</div><div class="breakdown-pct">8%</div></div>
                  <div class="breakdown-bar-track"><div class="breakdown-bar-fill" style="width:8%;background:var(--muted);" data-w="8"></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ======= ANALYTICS TAB ======= -->

  </main>
</div>
<div class="toast" id="toast"></div>
<script>
// ‚îÄ‚îÄ LIVE DATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const d = new Date();
document.getElementById('live-date').textContent =
  d.toLocaleDateString('en-US', {weekday:'short', month:'short', day:'numeric', year:'numeric'}).toUpperCase();

// ‚îÄ‚îÄ TAB NAVIGATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const titles = {
  overview: 'DASHBOARD', campaigns: 'CAMPAIGNS', submit: 'NEW CAMPAIGN',
  funnel: 'ARTIST FUNNEL', analytics: 'PLATFORM ANALYTICS',
  sponsors: 'SPONSORS', reports: 'REPORTS', roadmap: 'ROADMAP'
};

function showTab(id, btn) {
  document.querySelectorAll('.tab-page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  const page = document.getElementById('tab-' + id);
  if (page) page.classList.add('active');
  if (btn) btn.classList.add('active');
  document.getElementById('header-title').textContent = titles[id] || id.toUpperCase();
  window.scrollTo({top:0, behavior:'smooth'});
}

// ‚îÄ‚îÄ PLATFORM TOGGLES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.querySelectorAll('.plat-toggle').forEach(el => {
  el.addEventListener('click', () => el.classList.toggle('on'));
});

// ‚îÄ‚îÄ PACKAGE SELECT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function selectPkg(el) {
  document.querySelectorAll('.pkg-option').forEach(p => p.classList.remove('selected'));
  el.classList.add('selected');
}

// ‚îÄ‚îÄ CAMPAIGN SUBMIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function submitCampaign() {
  showToast('‚ö° Campaign submitted ‚Äî added to review queue');
}

// ‚îÄ‚îÄ CAMPAIGN FILTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function filterCampaigns(status, btn) {
  document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  const rows = document.querySelectorAll('#campaigns-table tbody tr');
  rows.forEach(row => {
    const show = status === 'all' || row.dataset.status === status;
    row.style.display = show ? '' : 'none';
  });
}

// ‚îÄ‚îÄ APPROVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function approveItem(btn) {
  const row = btn.closest('tr');
  const statusCell = row.querySelector('.status-pill');
  statusCell.className = 'status-pill sp-live';
  statusCell.textContent = '';
  const dot = document.createElement('span');
  statusCell.classList.add('sp-live');
  statusCell.innerHTML = 'Live';
  row.dataset.status = 'live';
  btn.className = 'btn btn-ghost';
  btn.textContent = 'View';
  btn.onclick = null;
  showToast('‚úì Campaign approved and scheduled');
}

// ‚îÄ‚îÄ PLATFORM SWITCHER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const platformData = {
  tw:  { followers:'92K', impressions:'5.4M', engagements:'228K', visits:'41K',
         col:'#1da1f2', colB:'var(--acid)', colC:'var(--off)', colD:'var(--cyan)' },
  ig:  { followers:'50K+', impressions:'1.2M', engagements:'48K', visits:'12K',
         col:'#e1306c', colB:'var(--acid)', colC:'var(--off)', colD:'var(--cyan)' },
  yt:  { followers:'‚Äî', impressions:'1.8M peak', engagements:'364K', visits:'8.4K',
         col:'#ff4444', colB:'var(--acid)', colC:'var(--off)', colD:'var(--cyan)' },
  all: { followers:'140K+', impressions:'8.4M', engagements:'640K', visits:'61K',
         col:'var(--acid)', colB:'var(--acid)', colC:'var(--off)', colD:'var(--cyan)' },
};
function switchPlatform(btn, platform) {
  document.querySelectorAll('.ptab').forEach(t => t.classList.remove('active'));
  btn.classList.add('active');
  const d = platformData[platform];
  const stats = document.querySelectorAll('.a-stat-val');
  const vals = [d.followers, d.impressions, d.engagements, d.visits];
  const colors = [d.col, d.colB, d.colC, d.colD];
  stats.forEach((s, i) => {
    s.textContent = vals[i]; s.style.color = colors[i];
  });
}

// ‚îÄ‚îÄ HEATMAP GENERATOR ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function buildHeatmap() {
  const grid = document.getElementById('heatmap-grid');
  if (!grid) return;
  const vals = [0,1,0,2,3,4,2, 1,0,2,3,4,4,3, 0,1,3,2,4,3,1, 2,2,1,3,4,4,2, 1,0,2,4,3,2,0, 2,3,1,2,4,3,1, 0,1,2,3,3,4,2];
  vals.forEach(v => {
    const d = document.createElement('div');
    d.className = 'hm-day'; d.setAttribute('data-v', v);
    grid.appendChild(d);
  });
})();

// ‚îÄ‚îÄ SPONSOR REPORT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function genReport(btn) {
  btn.textContent = '‚úì Report generated';
  btn.style.color = 'var(--acid)';
  showToast('üìä Sponsor report generated & ready');
  setTimeout(() => { btn.textContent = '‚¨á Generate Report'; btn.style.color = ''; }, 3000);
}

// ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3500);
}

// ‚îÄ‚îÄ BAR FILL ANIMATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const fillObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.querySelectorAll('.breakdown-bar-fill[data-w]').forEach(bar => {
        bar.style.width = '0%';
        setTimeout(() => { bar.style.width = bar.getAttribute('data-w') + '%'; }, 200);
      });
      fillObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.2 });
document.querySelectorAll('.panel').forEach(p => fillObserver.observe(p));

// ‚îÄ‚îÄ CAMPAIGNS SEARCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.querySelector('.search-input input')?.addEventListener('input', function() {
  const q = this.value.toLowerCase();
  document.querySelectorAll('#campaigns-table tbody tr').forEach(row => {
    row.style.display = row.textContent.toLowerCase().includes(q) ? '' : 'none';
  });
});

</script>
<script src="../assets/js/responsive.js"></script>
</body>
</html>